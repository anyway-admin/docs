---
title: "Cost Tracking"
description: "Monitor and optimize your AI spend"
icon: "dollar-sign"
---

## Overview

Anyway automatically tracks the cost of every LLM API call, helping you:

- Monitor spending in real-time
- Set budgets and alerts
- Attribute costs to users, features, or teams
- Identify expensive operations
- Optimize token usage

## Automatic Cost Calculation

Costs are calculated based on current provider pricing:

### OpenAI Models

| Model | Input | Output |
|-------|-------|--------|
| gpt-4 | $30.00 / 1M tokens | $60.00 / 1M tokens |
| gpt-4-turbo | $10.00 / 1M tokens | $30.00 / 1M tokens |
| gpt-4o | $2.50 / 1M tokens | $10.00 / 1M tokens |
| gpt-4o-mini | $0.15 / 1M tokens | $0.60 / 1M tokens |

### Anthropic Models

| Model | Input | Output |
|-------|-------|--------|
| claude-3-opus | $15.00 / 1M tokens | $75.00 / 1M tokens |
| claude-3-sonnet | $3.00 / 1M tokens | $15.00 / 1M tokens |
| claude-3-haiku | $0.25 / 1M tokens | $1.25 / 1M tokens |

<Note>
  Pricing is updated automatically. Check the dashboard for current rates.
</Note>

## Cost Attribution

Add attributes to track costs by user, feature, or team:

```python
with anyway.trace("user-query") as span:
    span.set_attribute("user_id", "user-123")
    span.set_attribute("team", "growth")
    span.set_attribute("feature", "chatbot")

    response = client.chat.completions.create(
        model="gpt-4",
        messages=[{"role": "user", "content": query}]
    )
```

Then filter costs in the dashboard by these attributes.

## Budget Alerts

Set up budget alerts to avoid surprises:

1. Go to **Billing** > **Budgets** in the dashboard
2. Click **Create Budget**
3. Configure:
   - Budget amount (e.g., $100/month)
   - Alert thresholds (50%, 80%, 100%)
   - Scope (all, specific project, specific environment)
4. Set notification channels

## Cost Dashboard

The Cost Dashboard shows:

- **Total spend** - Current period and trend
- **Cost by model** - Which models cost the most
- **Cost by user** - Top spending users
- **Cost by feature** - Which features cost the most
- **Daily trends** - Spending over time

## Cost Optimization Tips

<AccordionGroup>
  <Accordion title="Use cheaper models for simple tasks" icon="lightbulb">
    Not every task needs GPT-4. Use `gpt-4o-mini` or `claude-3-haiku` for:
    - Classification tasks
    - Simple extractions
    - Formatting/transformation
    - Low-stakes summaries
  </Accordion>

  <Accordion title="Optimize prompts" icon="lightbulb">
    Shorter prompts = lower costs:
    - Remove redundant instructions
    - Use examples efficiently
    - Consider prompt caching
  </Accordion>

  <Accordion title="Implement caching" icon="lightbulb">
    Cache responses for common queries:
    - Semantic similarity matching
    - Hash-based exact matching
    - TTL-based invalidation
  </Accordion>

  <Accordion title="Set token limits" icon="lightbulb">
    Prevent runaway costs with `max_tokens`:
    ```python
    response = client.chat.completions.create(
        model="gpt-4",
        max_tokens=500,  # Limit output
        messages=[...]
    )
    ```
  </Accordion>
</AccordionGroup>

## Exporting Cost Data

Export cost data for finance or analysis:

1. Go to **Billing** > **Export**
2. Select date range
3. Choose format (CSV, JSON)
4. Download or send to webhook

## Next Steps

<CardGroup cols={2}>
  <Card title="Usage Limits" icon="gauge" href="/billing/usage-limits">
    Set usage quotas
  </Card>
  <Card title="Dashboards" icon="chart-pie" href="/features/dashboards">
    Build custom cost dashboards
  </Card>
</CardGroup>
